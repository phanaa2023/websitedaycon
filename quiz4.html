<!DOCTYPE html> 
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Cha mẹ tự đánh giá</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: 'Quicksand', sans-serif;
      background: #f0f8ff;
      padding: 16px;
      margin: 0;
      color: #333;
    }
    h2 {
      color: #2c3e50;
      text-align: center;
      font-size: 22px;
      margin-bottom: 24px;
    }
    .question {
      background: #ffffff;
      border-left: 6px solid #4caf50;
      margin: 14px 0;
      padding: 14px 16px;
      border-radius: 10px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.05);
    }
    label {
      font-size: 16px;
      display: block;
      margin-bottom: 12px;
      line-height: 1.4;
    }

    /* ⭐ rating */
    .stars {
      display: flex;
      gap: 8px;
      font-size: 22px;
      cursor: pointer;
    }
    .star {
      color: #ccc;
      transition: 0.2s;
    }
    .star.selected {
      color: #fbc02d;
    }

    button {
      background-color: #4caf50;
      color: white;
      border: none;
      padding: 14px 20px;
      font-size: 18px;
      cursor: pointer;
      border-radius: 8px;
      display: block;
      width: 100%;
      max-width: 300px;
      margin: 25px auto 0;
      transition: background 0.3s;
    }
    button:hover { background-color: #43a047; }

    #result {
      margin-top: 30px;
      padding: 20px;
      background: #e0f7fa;
      border-left: 6px solid #00acc1;
      border-radius: 10px;
      display: none;
      box-shadow: 0 2px 6px rgba(0,0,0,0.08);
    }
    #result h3 { color: #00796b; font-size: 20px; margin-bottom: 12px; }

    /* Responsive */
    @media (max-width: 480px) {
      label { font-size: 15px; }
      h2 { font-size: 20px; }
      .stars { font-size: 20px; }
    }
  </style>
</head>
<body>

  <h2>📋 Cha mẹ tự đánh giá</h2>
  <p>Chọn số sao từ 1 đến 5 cho mỗi câu, trong đó 1 = hoàn toàn chưa đúng, 5 = hoàn toàn đúng với bạn</p>
  <form id="surveyForm">
    <div id="questions"></div>
    <button type="submit">📊 Xem kết quả</button>
  </form>

  <div id="result"></div>

  <script>
    const questions = [
      "Tôi thường xuyên giữ được sự bình an và tích cực khi dạy con.",
      "Tôi chủ động dành thời gian chất lượng để lắng nghe và trò chuyện với con.",
      "Tôi làm gương tốt về cách sống đạo đức, yêu thương và có trách nhiệm.",
      "Tôi kiên nhẫn khi con làm sai và biết hướng dẫn thay vì trừng phạt.",
      "Tôi sử dụng lời nói tích cực, không quát nạt, đe doạ hay mỉa mai con.",
      "Tôi kiểm soát tốt cảm xúc của mình trước mặt con, không trút giận lên con.",
      "Tôi luôn cố gắng hiểu con thay vì chỉ bắt con hiểu mình.",
      "Tôi cập nhật kiến thức nuôi dạy con phù hợp thời đại.",
      "Tôi sẵn sàng thay đổi chính mình nếu thấy cách dạy chưa hiệu quả.",
      "Tôi tạo được môi trường sống nhẹ nhàng, yêu thương và truyền cảm hứng cho con."
    ];

    const qContainer = document.getElementById("questions");
    questions.forEach((q, i) => {
      const div = document.createElement("div");
      div.className = "question";
      div.innerHTML = `
        <label>${i + 1}. ${q}</label>
        <div class="stars" data-q="${i}">
          <span class="star" data-value="1">★</span>
          <span class="star" data-value="2">★</span>
          <span class="star" data-value="3">★</span>
          <span class="star" data-value="4">★</span>
          <span class="star" data-value="5">★</span>
        </div>
      `;
      qContainer.appendChild(div);
    });

    // Xử lý chọn sao
    document.querySelectorAll(".stars").forEach(starGroup => {
      const stars = starGroup.querySelectorAll(".star");
      stars.forEach(star => {
        star.addEventListener("click", () => {
          const val = parseInt(star.dataset.value);
          stars.forEach((s, idx) => {
            s.classList.toggle("selected", idx < val);
          });
          starGroup.setAttribute("data-selected", val);
        });
      });
    });

    document.getElementById("surveyForm").addEventListener("submit", function(e) {
      e.preventDefault();
      let total = 0;
      let valid = true;

      document.querySelectorAll(".stars").forEach(group => {
        const val = parseInt(group.getAttribute("data-selected"));
        if (isNaN(val)) {
          group.style.border = "2px solid red";
          valid = false;
        } else {
          group.style.border = "none";
          total += val;
        }
      });

      if (!valid) {
        alert("⚠️ Vui lòng chọn số sao cho tất cả các câu.");
        return;
      }

      let level = "", explain = "";
      if (total >= 43) {
        level = "🌟 Rất tốt";
        explain = "Bạn đang là nguồn năng lượng tích cực, có ảnh hưởng tốt đến con.";
      } else if (total >= 35) {
        level = "👍 Khá tốt";
        explain = "Bạn có nền tảng tốt, chỉ cần tinh chỉnh thêm vài điểm nhỏ nữa thôi.";
      } else if (total >= 28) {
        level = "⚠️ Trung bình";
        explain = "Có một số thói quen, tư duy cần điều chỉnh để đồng hành với con tốt hơn.";
      } else if (total >= 20) {
        level = "🚨 Dưới trung bình";
        explain = "Bạn có thể đang ảnh hưởng tiêu cực đến con dù vô tình. Cần chuyển hoá bản thân.";
      } else {
        level = "❗ Nguy cơ cao";
        explain = "Mối liên hệ giữa bạn và con đang gặp rạn nứt nghiêm trọng. Cần hỗ trợ sâu.";
      }

      const resultBox = document.getElementById("result");
      resultBox.style.display = "block";
      resultBox.innerHTML = `
        <h3>Kết quả tự đánh giá</h3>
        <p><strong>🔢 Tổng điểm:</strong> ${total}/50</p>
        <p><strong>📌 Đánh giá:</strong> ${level}</p>
        <p><strong>💡 Ý nghĩa:</strong> ${explain}</p>
      `;
      resultBox.scrollIntoView({ behavior: "smooth", block: "start" });
    });
  </script>

</body>
</html>
